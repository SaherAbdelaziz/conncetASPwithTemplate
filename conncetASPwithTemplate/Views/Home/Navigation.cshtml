@using Newtonsoft.Json
@model conncetASPwithTemplate.ViewModels.ItemsCategories


@{
    ViewBag.Title = "IndexBurgers";
    Layout = "~/Views/Shared/_mytemplate.cshtml";
    


}



@functions {
    //private readonly int itemsToShowCount =10;
    // private int categriesCount=6 ;
    // private List<string> idsStrings = new List<string>() { "Burgers", "Pasta" , "Pizza" ,
    //     "Sushi" , "Desserts" , "Drinks" };
    private List<string> surcs = new List<string>() { "../../Content/mytemplate/assets/img/photos/menu-title-burgers.jpg",
                                                        "../../Content/mytemplate/assets/img/photos/menu-title-pasta.jpg",
                                                        "../../Content/mytemplate/assets/img/photos/menu-title-pizza.jpg" ,
                                                        "../../Content/mytemplate/assets/img/photos/menu-title-burgers.jpg",
                                                        "../../Content/mytemplate/assets/img/photos/menu-title-desserts.jpg",
                                                        "../../Content/mytemplate/assets/img/photos/menu-title-burgers.jpg",
                                                        "../../Content/mytemplate/assets/img/photos/menu-title-burgers.jpg",
                                                        "../../Content/mytemplate/assets/img/photos/menu-title-pasta.jpg",
                                                        "../../Content/mytemplate/assets/img/photos/menu-title-pizza.jpg" ,
                                                        "../../Content/mytemplate/assets/img/photos/menu-title-desserts.jpg",
                                                        "../../Content/mytemplate/assets/img/photos/menu-title-desserts.jpg",
                                                        "../../Content/mytemplate/assets/img/photos/menu-title-pasta.jpg",
                                                        "../../Content/mytemplate/assets/img/photos/menu-title-burgers.jpg",
    };
}

<!-- Page Title -->
<div class="page-title bg-light">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 push-lg-4">
                <h1 class="mb-0">Our Menu
                </h1>
                <h4 class="text-muted mb-0">GRILL & ORIENTAL RESTAURANT SINCE 1890
                </h4>
            </div>
        </div>
    </div>
</div>
<!-- Page Content -->
<div class="page-content">

    <div class="container">
        <div class="row no-gutters">
            <div class="col-md-3">
                <!-- Menu Navigation -->
                <nav id="menu-navigation" class="stick-to-content" data-local-scroll>
                    <ul class="nav nav-menu bg-dark dark">
                        
                        @{
                            for (int i = 0; i< Model.Presets.Count; i++)
                            {
                                <li><a href="#@Model.Presets[i].Name">@Model.Presets[i].Name</a></li>
                            }
                        }
                    </ul>
                </nav>
            </div>
            <div class="col-md-9">
            @{
                for (int i = 0; i < Model.Presets.Count; i++)
                {
                    <div id="@Model.Presets[i].Name" class="menu-category">
                        <div class="menu-category-title">
                            <div class="bg-image"><img src="@surcs[i]" alt=""></div>
                            <h2 class="title">@Model.Presets[i].Name</h2>
                        </div>
                        <div class="menu-category-content">
                            <!-- Menu Items -->

                            @{
                                var count = 0;
                                for (int j = 0; j < Model.Items.Count; j++)
                                {
                                    if(Model.Items[j].WebPresetId == Model.Presets[i].Id)
                                    {
                                        count++;
                                        List<int> ids = new List<int>();
                                        //ids.Add(Model[i].Id);
                                        var myJSON = JsonConvert.SerializeObject(ids);

                                        <div class="menu-item menu-list-item">
                                            <div class="row align-items-center">
                                                <div class="col-sm-6">
                                                    <h6 class="mb-0">@Model.Items[j].Name</h6>
                                                    <span class="text-muted text-sm">@Model.Items[j].Name2</span>
                                                    @*@if (Model.Items[j].Cost != 0)
                                                    {
                                                        if (Model.Items[j].Cost != 0)
                                                        {
                                                                <span class="text-sm text-warning"> this item is not available right now</span>
                                                            
                                                        }
                                                    }*@
                                                </div>
                                               
                                             
                                                <div class="col-sm-6 text-sm-right">
                                                    <span class="text-md mr-1"><span class="text-muted"></span> @Model.Items[j].StaticPrice LE</span>
                                                    @if (Model.Items[j].Cost == 0)
                                                    {
                                                        <button
                                                            class="btn btn-outline-secondary btn-sm js-chosen-item "
                                                            data-item-id="@Model.Items[j].Id"
                                                            data-item-modefiers="@myJSON"
                                                            data-target="#productModal" data-toggle="modal">
                                                            <span>Add to cart</span>
                                                        </button>
                                                    }
                                                    else
                                                    {
                                                        <button class="btn btn-outline-secondary btn-sm text-sm text-danger" disabled=""> <span> not available </span> </button>

                                                    }
                                                    @*<button  class="btn btn-outline-secondary btn-sm js-chosen-item "
                                                             data-item-id="@Model.Items[j].Id" 
                                                             data-item-modefiers="@myJSON">@*
                                                        @*data-target="#productModal" data-toggle="modal">*@
                                                        
                                                        @*<span> Modify </span>

                                                    </button>*@
                                                    <!--js-add-cart-->
                                                </div>
                                            </div>
                                        </div>
                                        if (count == Model.ItemsToShowCount)
                                        {
                                            break;
                                        }
                                        }

                                        
                                }
                                // j = k;



                                }
                           
                        </div>
                    </div>
                    }
                    }
                    
            </div>
        </div>
    </div>
</div>


@section scripts{
    <script >
        

</script>
}