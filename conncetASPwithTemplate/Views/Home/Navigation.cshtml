@using Newtonsoft.Json
@model IList<conncetASPwithTemplate.Models.Item>


@{
    ViewBag.Title = "IndexBurgers";
    Layout = "~/Views/Shared/_mytemplate.cshtml";
}



@functions {
    private readonly int itemsToShowCount =10;
    private int categriesCount=6 ;
    private List<string> idsStrings = new List<string>() { "Burgers", "Pasta" , "Pizza" ,
        "Sushi" , "Desserts" , "Drinks" };
    private List<string> surcs = new List<string>() { "../../Content/mytemplate/assets/img/photos/menu-title-burgers.jpg",
        "../../Content/mytemplate/assets/img/photos/menu-title-pasta.jpg",
        "../../Content/mytemplate/assets/img/photos/menu-title-pizza.jpg" ,
        "../../Content/mytemplate/assets/img/photos/menu-title-sushi.jpg",
        "../../Content/mytemplate/assets/img/photos/menu-title-desserts.jpg",
        "../../Content/mytemplate/assets/img/photos/menu-title-drinks.jpg"
    };
    //private List<string> titles = new List<string>() { "Burgers", "Pasta", "Pizza" };
}

<!-- Page Title -->
<div class="page-title bg-light">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 push-lg-4">
                <h1 class="mb-0">Menu List</h1>
                <h4 class="text-muted mb-0">Some informations about our restaurant</h4>
            </div>
        </div>
    </div>
</div>
<!-- Page Content -->
<div class="page-content">

    <div class="container">
        <div class="row no-gutters">
            <div class="col-md-3">
                <!-- Menu Navigation -->
                <nav id="menu-navigation" class="stick-to-content" data-local-scroll>
                    <ul class="nav nav-menu bg-dark dark">
                        <li><a href="#Burgers">Burgers</a></li>
                        <li><a href="#Pasta">Pasta</a></li>
                        <li><a href="#Pizza">Pizza</a></li>
                        <li><a href="#Sushi">Sushi</a></li>
                        <li><a href="#Desserts">Desserts</a></li>
                        <li><a href="#Drinks">Drinks</a></li>
                    </ul>
                </nav>
            </div>
            <div class="col-md-9">
            <!-- Menu Category / Burgers -->
            @{
                for (int i = 0; i < categriesCount; i++)
                {
                    <div id="@idsStrings[i]" class="menu-category">
                        <div class="menu-category-title">
                            <div class="bg-image"><img src="@surcs[i]" alt=""></div>
                            <h2 class="title">@idsStrings[i]</h2>
                        </div>
                        <div class="menu-category-content">
                            <!-- Menu Items -->

                            @{
                                var count = 0;
                                for (int j = 0; j < Model.Count; j++)
                                {
                                    if (Model[j].SubCategryId == i+1)
                                    {
                                        count++;
                                        List<int> ids = new List<int> {Model[j].Id};
                                        var myJSON = JsonConvert.SerializeObject(ids);
                                        <div class="menu-item menu-list-item">
                                            <div class="row align-items-center">
                                                <div class="col-sm-6 mb-2 mb-sm-0">
                                                    <h6 class="mb-0">@Model[j].Name</h6>
                                                    <span class="text-muted text-sm">@Model[j].Name2</span>
                                                </div>
                                                <div class="col-sm-6 text-sm-right">
                                                    <span class="text-md mr-4"><span class="text-muted">from</span> $@Model[j].StaticPrice</span>
                                                    <button data-item-id="@myJSON" class="btn btn-outline-secondary btn-sm js-chosen-item"
                                                            data-target="#productModal" data-toggle="modal">
                                                        <span>Add to cart</span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>

                                        
                                    }
                                    if(count == itemsToShowCount)
                                    {
                                        break;
                                    }
                                    
                                }
                            }

                        </div>
                    </div>
                    }
                    }
                    
            </div>
        </div>
    </div>
</div>


@section scripts{
    <script >
        

</script>
}